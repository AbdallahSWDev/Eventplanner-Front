import{a as L,b as D,e as F,g as N,h as P,i as B,k as O}from"./chunk-6A5YDZKR.js";import{a as A}from"./chunk-QQQP4KHS.js";import{D as g,H as m,I as e,J as t,K as C,M as _,N as h,Q as n,R as S,S as v,U as p,V as c,W as u,Y as y,Z as k,_ as M,ea as w,fa as x,ga as W,ha as I,qa as T,sa as b,u as o,y as f,z as E}from"./chunk-SPS5S2K3.js";var R=l=>["/event",l];function V(l,d){if(l&1&&(e(0,"div",24)(1,"h3"),n(2),t(),e(3,"p"),n(4),t(),e(5,"p"),n(6),k(7,"date"),t(),e(8,"button",25),n(9,"Event Details"),t()()),l&2){let i=h().$implicit;o(2),v("Event: ",i.event.title),o(2),S(i.event.description),o(2),v("Date: ",M(7,4,i.event.date,"medium")),o(2),m("routerLink",y(7,R,i.event.id))}}function j(l,d){if(l&1&&(e(0,"div",26)(1,"h3"),n(2),t(),e(3,"p"),n(4),t(),e(5,"p"),n(6),t(),e(7,"button",25),n(8,"Event Details"),t()()),l&2){let i=h().$implicit;o(2),v("Task: ",i.task.title),o(2),S(i.task.description),o(2),v("Event: ",i.event.title),o(),m("routerLink",y(4,R,i.event.id))}}function H(l,d){if(l&1&&(e(0,"div",21),g(1,V,10,9,"div",22)(2,j,9,6,"div",23),t()),l&2){let i=d.$implicit;o(),m("ngIf",i.type==="event"),o(),m("ngIf",i.type==="task")}}var z=class l{constructor(d){this.eventService=d}keyword="";start_date="";end_date="";role="";type="both";results=[];onSearch(){let d={};this.keyword&&(d.keyword=this.keyword),this.start_date&&(d.start_date=this.start_date),this.end_date&&(d.end_date=this.end_date),this.role&&(d.role=this.role),this.type&&(d.type=this.type),this.eventService.search(d).subscribe({next:i=>{this.results=i},error:i=>{console.error("Search error",i),this.results=[]}})}logout(){localStorage.removeItem("token"),window.location.href="/login"}static \u0275fac=function(i){return new(i||l)(f(A))};static \u0275cmp=E({type:l,selectors:[["app-search"]],decls:38,vars:6,consts:[[1,"navbar"],[1,"navbar-left"],[1,"logo"],[1,"navbar-right"],["routerLink","/events"],["routerLink","/create-event"],["routerLink","/search",1,"active"],[1,"logout",3,"click"],[1,"container"],[1,"form"],["placeholder","Keyword",3,"ngModelChange","ngModel"],["type","date",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],["value",""],["value","organizer"],["value","attendee"],["value","both"],["value","event"],["value","task"],[3,"click"],["class","results-grid",4,"ngFor","ngForOf"],[1,"results-grid"],["class","result-card event-card",4,"ngIf"],["class","result-card task-card",4,"ngIf"],[1,"result-card","event-card"],[3,"routerLink"],[1,"result-card","task-card"]],template:function(i,a){i&1&&(e(0,"nav",0)(1,"div",1)(2,"span",2),n(3,"EventPlanner"),t()(),e(4,"div",3)(5,"a",4),n(6,"Home"),t(),e(7,"a",5),n(8,"Create Event"),t(),e(9,"a",6),n(10,"Search"),t(),e(11,"a",7),_("click",function(){return a.logout()}),n(12,"Logout"),t()()(),e(13,"div",8)(14,"h2"),n(15,"Search Events & Tasks"),t(),e(16,"div",9)(17,"input",10),u("ngModelChange",function(r){return c(a.keyword,r)||(a.keyword=r),r}),t(),e(18,"input",11),u("ngModelChange",function(r){return c(a.start_date,r)||(a.start_date=r),r}),t(),e(19,"input",11),u("ngModelChange",function(r){return c(a.end_date,r)||(a.end_date=r),r}),t(),e(20,"select",12),u("ngModelChange",function(r){return c(a.role,r)||(a.role=r),r}),e(21,"option",13),n(22,"Any role"),t(),e(23,"option",14),n(24,"Organizer"),t(),e(25,"option",15),n(26,"Attendee"),t()(),e(27,"select",12),u("ngModelChange",function(r){return c(a.type,r)||(a.type=r),r}),e(28,"option",16),n(29,"Both"),t(),e(30,"option",17),n(31,"Events"),t(),e(32,"option",18),n(33,"Tasks"),t()(),e(34,"button",19),_("click",function(){return a.onSearch()}),n(35,"Search"),t()(),C(36,"hr"),g(37,H,3,2,"div",20),t()),i&2&&(o(17),p("ngModel",a.keyword),o(),p("ngModel",a.start_date),o(),p("ngModel",a.end_date),o(),p("ngModel",a.role),o(7),p("ngModel",a.type),o(10),m("ngForOf",a.results))},dependencies:[I,w,x,O,P,B,L,N,D,F,b,T,W],encapsulation:2})};export{z as SearchComponent};
