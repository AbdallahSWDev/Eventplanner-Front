import{a as y}from"./chunk-QQQP4KHS.js";import{D as p,H as c,I as t,J as n,L as C,M as m,N as E,Q as i,R as d,Y as v,Z as g,_ as u,ea as O,ga as h,ha as M,n as x,o as b,pa as P,qa as S,sa as k,u as a,y as s,z as _}from"./chunk-SPS5S2K3.js";var I=r=>["/event",r];function F(r,o){if(r&1){let e=C();t(0,"div",12)(1,"h3"),i(2),n(),t(3,"p"),i(4),g(5,"date"),n(),t(6,"div",13)(7,"button",14),i(8,"Event Details"),n(),t(9,"button",15),m("click",function(){let f=x(e).$implicit,D=E();return b(D.delete(f.id))}),i(10,"Delete"),n()()()}if(r&2){let e=o.$implicit;a(2),d(e.title),a(2),d(u(5,3,e.date,"medium")),a(3),c("routerLink",v(6,I,e.id))}}function z(r,o){if(r&1&&(t(0,"div",16)(1,"h3"),i(2),n(),t(3,"p"),i(4),g(5,"date"),n(),t(6,"div",13)(7,"button",14),i(8,"Event Details"),n()()()),r&2){let e=o.$implicit;a(2),d(e.title),a(2),d(u(5,3,e.date,"medium")),a(3),c("routerLink",v(6,I,e.id))}}var w=class r{constructor(o,e){this.eventService=o;this.router=e}organized=[];invited=[];ngOnInit(){this.load()}load(){this.eventService.getOrganizedEvents().subscribe({next:o=>this.organized=o||[],error:()=>this.organized=[]}),this.eventService.getInvitedEvents().subscribe({next:o=>this.invited=o||[],error:()=>this.invited=[]})}delete(o){confirm("Delete this event?")&&this.eventService.deleteEvent(o).subscribe({next:()=>this.load(),error:e=>console.error("Delete failed",e)})}goToDetails(o){this.router.navigate(["/event",o])}logout(){localStorage.removeItem("token"),window.location.href="/login"}static \u0275fac=function(e){return new(e||r)(s(y),s(P))};static \u0275cmp=_({type:r,selectors:[["app-events"]],decls:22,vars:2,consts:[[1,"navbar"],[1,"navbar-left"],[1,"logo"],[1,"navbar-right"],["routerLink","/events"],["routerLink","/create-event",1,"create-event-btn"],["routerLink","/search"],[1,"logout",3,"click"],[1,"container"],[1,"events-grid"],["class","event-card",4,"ngFor","ngForOf"],["class","event-card invited",4,"ngFor","ngForOf"],[1,"event-card"],[1,"card-buttons"],[1,"details-btn",3,"routerLink"],[1,"delete-btn",3,"click"],[1,"event-card","invited"]],template:function(e,l){e&1&&(t(0,"nav",0)(1,"div",1)(2,"span",2),i(3,"EventPlanner"),n()(),t(4,"div",3)(5,"a",4),i(6,"Home"),n(),t(7,"a",5),i(8,"Create Event"),n(),t(9,"a",6),i(10,"Search"),n(),t(11,"a",7),m("click",function(){return l.logout()}),i(12,"Logout"),n()()(),t(13,"div",8)(14,"h2"),i(15,"My Organized Events"),n(),t(16,"div",9),p(17,F,11,8,"div",10),n(),t(18,"h2"),i(19,"Events I'm Invited To"),n(),t(20,"div",9),p(21,z,9,8,"div",11),n()()),e&2&&(a(17),c("ngForOf",l.organized),a(4),c("ngForOf",l.invited))},dependencies:[M,O,k,S,h],styles:[".navbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;background-color:#007bff;color:#fff}.navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;margin-left:20px;font-weight:500;transition:color .3s}.navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ffdd57}.logo[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.container[_ngcontent-%COMP%]{max-width:1200px;margin:20px auto;padding:0 15px}.events-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:20px;margin-bottom:30px}.event-card[_ngcontent-%COMP%]{background-color:#f9f9f9;border-radius:10px;padding:15px;box-shadow:0 2px 8px #0000001a;transition:transform .2s,box-shadow .2s}.event-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 4px 12px #00000026}.event-card.invited[_ngcontent-%COMP%]{background-color:#e8f0fe}.event-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 10px;font-size:1.2rem;color:#333}.event-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 15px;color:#666}.card-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px}.card-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 12px;border:none;border-radius:6px;font-weight:500;cursor:pointer;transition:background-color .3s}.details-btn[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.details-btn[_ngcontent-%COMP%]:hover{background-color:#218838}.delete-btn[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.delete-btn[_ngcontent-%COMP%]:hover{background-color:#c82333}.create-event-btn[_ngcontent-%COMP%]{background-color:#ffc107;padding:6px 12px;border-radius:6px;color:#333!important}.create-event-btn[_ngcontent-%COMP%]:hover{background-color:#e0a800}"]})};export{w as EventsComponent};
